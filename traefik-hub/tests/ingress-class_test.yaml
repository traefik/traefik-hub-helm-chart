suite: IngressClass tests
release:
  name: traefik-hub
  namespace: traefik
templates:
  - ingress-class.yaml
tests:
  - it: should not render IngressClass by default
    asserts:
      - hasDocuments:
          count: 0
  - it: should be possible to customize ingressclass
    set:
      providers:
        ingressClass:
          isDefaultClass: false
          name: "my-ing"
    asserts:
      - equal:
          path: metadata.name
          value: my-ing
      - isSubset:
          path: metadata.annotations
          content:
            ingressclass.kubernetes.io/is-default-class: "false"
